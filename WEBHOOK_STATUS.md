# ‚úÖ –°—Ç–∞—Ç—É—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CryptoBot Webhook

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏**: 2025-11-05  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–í–°–Å –†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ `CRYPTOBOT_API_TOKEN` - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `CRYPTOBOT_API_URL` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –≤ –ø–æ—Ä—è–¥–∫–µ

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–ª–µ `price_crypto_usd` –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—É `tariffs`
- ‚úÖ –ü–æ–ª—è –¥–ª—è –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü—É `payments`
- ‚úÖ –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### 3. CryptoBot API
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω

### 4. Webhook Endpoint
- ‚úÖ Endpoint `/cryptobot/webhook` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞ —Å –Ω–æ–≤—ã–º–∏ —Ä–æ—É—Ç–∞–º–∏
- ‚úÖ URL: `https://veil-bot.ru/cryptobot/webhook`

### 5. SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç Let's Encrypt —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –≤ CryptoBot
- ‚úÖ HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìã –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**Webhook URL**: `https://veil-bot.ru/cryptobot/webhook`  
**–ú–µ—Ç–æ–¥**: POST  
**–°–æ–±—ã—Ç–∏—è**: `invoice_paid`  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—ã –≤ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ –¥–ª—è —Ç–∞—Ä–∏—Ñ–æ–≤

–í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ ‚Üí —Ä–∞–∑–¥–µ–ª "–¢–∞—Ä–∏—Ñ—ã" –¥–æ–±–∞–≤—å—Ç–µ —Ü–µ–Ω—ã –≤ USD:

1. **–¢–∞—Ä–∏—Ñ "1 –¥–µ–Ω—å"** (50‚ÇΩ):
   - –ü—Ä–∏ –∫—É—Ä—Å–µ ~100‚ÇΩ/$ ‚Üí **0.50 USD**

2. **–¢–∞—Ä–∏—Ñ "1 –º–µ—Å—è—Ü"** (200‚ÇΩ):
   - –ü—Ä–∏ –∫—É—Ä—Å–µ ~100‚ÇΩ/$ ‚Üí **2.00 USD**

3. **–¢–∞—Ä–∏—Ñ "1 –≥–æ–¥"** (2000‚ÇΩ):
   - –ü—Ä–∏ –∫—É—Ä—Å–µ ~100‚ÇΩ/$ ‚Üí **20.00 USD**

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å:**
1. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí –¢–∞—Ä–∏—Ñ—ã
2. –ù–∞–∂–º–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ –∫–∞–∂–¥–æ–º —Ç–∞—Ä–∏—Ñ–µ
3. –í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É –≤ USD –≤ –ø–æ–ª–µ "–¶–µ–Ω–∞ –≤ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ (USD)"
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ö—É–ø–∏—Ç—å –¥–æ—Å—Ç—É–ø" ‚Üí —Ç–∞—Ä–∏—Ñ
3. –í—ã–±–µ—Ä–∏—Ç–µ "‚Çø –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ (USDT)"
4. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook
–ü–æ—Å–ª–µ —Ä–µ–∞–ª—å–Ω–æ–π –æ–ø–ª–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí Webhooks ‚Üí –§–∏–ª—å—Ç—Ä: provider="cryptobot"
- –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å—å —Å event="invoice_paid" –∏ result="ok"

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ:

1. **–õ–æ–≥–∏ webhook** (–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí Webhooks):
   - –§–∏–ª—å—Ç—Ä: provider="cryptobot"
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å "ok" vs "error"

2. **–ü–ª–∞—Ç–µ–∂–∏** (–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí –ü–ª–∞—Ç–µ–∂–∏):
   - –§–∏–ª—å—Ç—Ä: provider="cryptobot"
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å—ã: pending ‚Üí paid

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏ –≤ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ.

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
1. –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—ã –≤ USD –¥–ª—è —Ç–∞—Ä–∏—Ñ–æ–≤ (—Å–º. –≤—ã—à–µ)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –ø–ª–∞—Ç–µ–∂–µ

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–µ–Ω –æ–ø–ª–∞—Ç–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ

